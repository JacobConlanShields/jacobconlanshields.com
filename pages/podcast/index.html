<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quality Values Podcast — Jacob Shields</title>
  <link rel="stylesheet" href="/assets/styles.css" />
</head>

<body>
  <main class="podcast-page">
    <p class="nav">
      <a href="/">← Back to home</a>
      <span class="dot">•</span>
      <a href="/pages/projects/">Projects</a>
      <span class="dot">•</span>
      <a href="/pages/contact/">Contact</a>
    </p>

    <!-- ===== TOP GRID (matches your mockup) ===== -->
    <section class="podcast-topgrid">
      <!-- LEFT COLUMN -->
      <div class="top-left">
        <h1 class="podcast-title">Quality Values Podcast</h1>

        <p class="lede">
          Long-form conversations about values, craft, and systems — with people I’m learning from.
        </p>

        <a class="btn"
           href="https://www.youtube.com/playlist?list=PLcDYjJATsN-Nn0Fs5HLuIq5EIzDcA9tgg"
           target="_blank" rel="noopener">
          Open on YouTube
        </a>

        <hr class="tight-hr">

        <!-- Full Podcast (Latest) — constrained so it ends before Clips column -->
        <section class="row-block row-block--tight">
          <div class="row-head">
            <h2 class="row-title">Full Podcast (Latest)</h2>
            <div class="row-controls">
              <button class="icon-btn" type="button" aria-label="Scroll left" data-row="row-full" data-dir="-1">◀</button>
              <button class="icon-btn" type="button" aria-label="Scroll right" data-row="row-full" data-dir="1">▶</button>
            </div>
          </div>

          <div class="status" id="status-full"></div>
          <div class="row row--small" id="row-full"></div>
        </section>
      </div>

      <!-- RIGHT COLUMN: CLIPS (vertical social scroll, 1 visible at a time) -->
      <aside class="top-right">
        <div class="row-head row-head--clips">
          <h2 class="row-title">Clips</h2>
          <div class="row-controls">
            <button class="icon-btn" type="button" aria-label="Scroll up" data-row="row-clips" data-dir="-1" data-axis="y">▲</button>
            <button class="icon-btn" type="button" aria-label="Scroll down" data-row="row-clips" data-dir="1" data-axis="y">▼</button>
          </div>
        </div>

        <div class="status" id="status-clips"></div>

        <!-- The viewport is exactly 1 card tall -->
        <div class="clips-viewport">
          <div class="clips-rail" id="row-clips"></div>
        </div>
      </aside>
    </section>

    <hr class="tight-hr">

    <!-- ===== BELOW GRID: HIGHLIGHTS (full width) ===== -->
    <section class="row-block row-block--tight">
      <div class="row-head">
        <h2 class="row-title">Highlight Episodes</h2>
        <div class="row-controls">
          <button class="icon-btn" type="button" aria-label="Scroll left" data-row="row-highlights" data-dir="-1">◀</button>
          <button class="icon-btn" type="button" aria-label="Scroll right" data-row="row-highlights" data-dir="1">▶</button>
        </div>
      </div>

      <div class="status" id="status-highlights"></div>
      <div class="row row--small" id="row-highlights"></div>
    </section>
  </main>

  <!-- ===== ONE modal player ===== -->
  <div class="modal" id="playerModal" aria-hidden="true">
    <div class="modal-backdrop" data-close></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Video player">
      <button class="modal-close" data-close aria-label="Close">✕</button>
      <div class="player-wrap" id="playerWrap"></div>
    </div>
  </div>

  <script>
    // Playlist IDs
    const PLAYLIST_FULL       = "PLcDYjJATsN-Nn0Fs5HLuIq5EIzDcA9tgg";
    const PLAYLIST_HIGHLIGHTS = "PLcDYjJATsN-OGocXwl1Hkqb3HWdSf6GA0";
    const PLAYLIST_CLIPS      = "PLcDYjJATsN-NiSRQwR9BepKMA0LiV6t-p";

    // counts (keep reasonable so initial view stays tight)
    const COUNT_FULL       = 10;
    const COUNT_HIGHLIGHTS = 10;
    const COUNT_CLIPS      = 25;

    // YouTube playlist feed (XML)
    const FEED = (playlistId) => `https://www.youtube.com/feeds/videos.xml?playlist_id=${playlistId}`;

    // Cloudflare Worker proxy (CORS-safe)
    const WORKER_PROXY = "https://yt-feed-proxy.jacobconlanshields.workers.dev/?url=";
    const PROXY = (url) => WORKER_PROXY + encodeURIComponent(url);

    function escapeHtml(s) {
      return (s || "").replace(/[&<>"']/g, (c) => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[c]));
    }

    function parseFeed(xmlText) {
      const doc = new DOMParser().parseFromString(xmlText,
